from Tsukino_Music import app 
import asyncio
import random
from pyrogram import Client, filters
from pyrogram.enums import ChatType, ChatMemberStatus
from pyrogram.errors import UserNotParticipant
from pyrogram.types import ChatPermissions

spam_chats = []

EMOJI = [ "??????????",
          "???Œ¸???¬??",
          "???Œ·?Œ¹?Œº??",
          "?Œ¸?Œ¿?’®?Œ±?Œµ",
          "?¤ï????????–¤",
          "??????????",
          "?Œ¸???Œº?Œ¹??",
          "???¦ª???²??",
          "?????????Œ¶ï",
          "???¥¤?????·",
          "?¬?­?????¡",
          "?¨???º?•ð??",
          "?¥ª?¥§?¦?¥??",
          "???•ð?¹ð?·ðŸ¥?",
          "?•ðŸ§ƒð?©ð?¦ð??",
          "???Œ¾?’®???Œ¿",
          "?Œ¨ï¸ð?¥ï??ˆï??Œ©ï¸ð?§ï?",
          "?Œ·?µï¸ð?¸ð?ºð??",
          "?’®?Œ¼?Œ»????",
          "???¦¸?¦¹???‘¸",
          "???????Œ½?¥¦",
          "?·?¹?­?¨?»?â?ï¸?",
          "???????????â?",
          "?Œ¼?Œ³?Œ²?Œ´?Œµ",
          "?¥©????????",
          "?´?½ï¸ð?ªð?¶ðŸ¥?",
          "???°?©?©ï??©",
          "??????????",
          "?ª´?Œµ?Œ´?Œ³?Œ²",
          "??????????",
          "??????ï¸ðŸ¦¤ðŸ¦?",
          "?¦¤?¦©??????",
          "?¬?¦­?????³",
          "???????¡??",
          "?¦©???????¦ª",
          "?¦???•·ï¸ð?¸ï???",
          "?¥ª?°?¥§?¨?¨",
          " ?¥¬??????",
        ]

TAGMES = [ " **??Éª ?á´á?á´??á´á?...á°”á?**",
           " **???á´Ê€É¢á´‡á? á´á?..á°”á?",
           " **??Éª á´…á?É´'á´??á´á?á´??á´á?...á°”á?**",
           " **??á´á?á´‹á? Éªá´??á´á??s á´˜ÉªÊá?, á´á?á´‹á? Éªá´??á´á??s...á°”á?**",
           " **??á´Šá?ÉªÉ´ á´Ê?É¢?á´á?á´?á´€?sá´?..á°”á?**",
           " **??Éª á´‹á?á´˜á? ?á´á?? É´á´€á´á? ÉªÉ´ á´Ê??á´‡á??á´?..á°”á?**",
           " **??á´¡Êœá??á´?á´€?á´?á´€?? ?á´á?? ??Éªá´‡É´á?s...á°”á?**",
           " **??ÉªÉ´ á´¡Êœá?sá´?á´á?á´á??? á´€?á´??á´á? ?á´sá´?á´Ê??á´á?á´?..á°”á?**",
           " **??á´¡Êœá?á´›s ?á´á?? á´˜Ê€á´Ò“á?ssÉªá´É?..á°”á?**",
           " **??á´¡Êœá??á´?á´…Éªá? ?á´á? ?Éªá´ á?...á°”á?**",
           " **??É¢á´á?á´?á´á??É´ÉªÉ´É¢, ?á´€??...á°”á?**",
           " **??É¢á´á?á´?É´ÉªÉ¢?á´? Éªá´?s á´ á??? ?á´€á´›á?...á°”á?**",
           " **??Éª ?á´‡á?? á´ á??? sá´€á´?á´›á?á´…á??...á°”á?**",
           " **??á´›á??á´?á´›á? á´á? á´›á?á´?..á°”á?**",
           " **??á´¡Êœá?á´?s ?á´Ê€ á´…ÉªÉ´É´á?? á´›á?á´…á??...á°”á?**",
           " **??á´¡Êœá?á´?s É¢á´ÉªÉ´É?á´É?..á°”á?**",
           " **??á´¡ÊœÊ?á´…á?É´'á´??á´á? á´á?ssá´€É¢á´?..á°”á?**",
           " **??Éª á´€á´?ÉªÉ´É´á´á?á´‡É´á?...á°”á?**",
           " **??Éªá´?á´¡á?s ?á´œÉ??á´‡sá´›á??á´…á??, á´¡á?sÉ´'á´?Éªá´?..á°”á?**",
           " **??á´¡Êœá??á´?á´¡á??á´??á´á? ?á´œs? ?á´‡sá´›á??á´…á??...á°”á?**",
           " **???á´á? ?á´‡á?á´€ÉªÉ´ sá´?á´„á??á´???Éªá´‡É´á?...á°”á?**",
           " **??á´…á? ?á´á? á´‹É´á?á´??á´á´¡ á´›á? sÉªÉ´É¢, sÉªÉ´É¢...á°”á?**",
           " **??á´¡ÉªÊŸÊ??á´á? á´„á?á´á? ?á´Ê€ á´€ á´¡á??á´?á´¡Éªá?? á´á?...á°”á?**",
           " **??á´€?á´¡á??s ?á´??á´€á´˜á?? ??Éªá´‡É´á?...á°”á?**",
           " **??á´„á?É´ á´¡á? ?á´???Éªá´‡É´á?s...á°”á?**",
           " **??á´€?á´??á´á? á´á???Éªá´‡á?...á°”á?**",
           " **??á´¡Êœá??á´??á´€á´ á? ?á´á? ?á´‡á?É´ ?á´œs? ?á´Ê€ sá´?á´á?É´? á´…á??s...á°”á?**",
           " **???ÉªÉ´á´?Éªs ÉªÉ´ ?Éªá´? á´›á? á´Šá?ÉªÉ´ É´á´á´¡...á°”á?**",
           " **???á´€á´??á´œÉ?..á°”á?**",
           " **??á´…á? ?á´á? á´‹É´á?á´?á´›Êœá? á´á´¡É´á´‡Ê€ á´Ò?á´›ÊœÉªs É¢?á´á?á´?..á°”á?**",
           " **??á´…á? ?á´á? á´‡á?á´‡Ê€ ?á´‡á?á´‡á??á´‡Ê€ á´á?...á°”á?**",
           " **???á´‡á?'s á´˜á??á´›Ê?..á°”á?**",
           " **???á´á´¡ á´„á?á´á? á´›á?á´…á??...á°”á?**",
           " **???Éªsá´›á?É´ á´á?...á°”á?**",
           " **???á´á´¡ á´¡á?s ?á´á?? á´…á??...á°”á?**",
           " **??á´…Éªá? ?á´á? sá´‡á?...á°”á?**",
           " **??á´€?á´??á´á? á´›Êœá? á´€á´…á?ÉªÉ´ ?á´‡Ê€á´?..á°”á?**",
           " **??á´€?á´??á´á? ÉªÉ´ ?á´‡ÊŸá?á´›Éªá?É´s?Éªá´?..á°”á?**",
           " **??á´€É´á´??á´á´¡ Éªs á´›Êœá? á´˜Ê€Éªsá´É´á??...á°”á?**",
           " **??sá´€á´??á´á? ?á´‡sá´›á??á´…á??...á°”á?**",
           " **??á´¡Êœá??á´?á´€?á´??á´á? ??á´á?...á°”á?**",
           " **??á´€?á´??á´á? á´É´ÊŸÉªÉ´á?...á°”á?**",
           " **??á´¡Êœá?á´?á´…á? ?á´á? ?Éªá´‹á? á´›á? á´‡á?á´?..á°”á?**",
           " **??á´€á´…á? á´á? á´›á? ?á´á?? É¢?á´á?á´? Éª á´¡ÉªÊŸÊ?á´˜ÊŸá?? á´á?sÉªá´?á´€É´á´?á´›á?É¢ á´‡á?á´‡Ê€?á´É´á?...á°”á?**",
           " **??á´¡ÉªÊŸÊ??á´á? á´˜ÊŸá?? á´›Ê€á´œá?? á´€É´á´?á´…á??á´?..á°”á?**",
           " **??á´¡Êœá?á´›s ?á´€á´˜á?á´‡É´á?á´?á´›á? ?á´á?...á°”á?**",
           " **??á´…á? ?á´á? á´¡á?É´É´á´€ á´‡á?á´?á´„Êœá?á´„á??á´€á´›á?...á°”á?**",
           " **???á´‡ÊŸÊŸá? ?á´€??...á°”á?**",
           " **??á´…á? á´„Êœá?á´›á?ÉªÉ´É¢ á´¡Éªá?? á´á?...á°”á?**",
           " **??á´¡Êœá?á´?á´…á? ?á´á? sá´€?...á°”á?**",
           " **??É¢Éªá´ á? á´á? ?á´á?? á´¡Êœá?á´›sá´€á´˜á? É´á´œá??á´‡Ê€ á´˜ÊŸá?á´€sá´?..á°”á?**"
           ]

VC_TAG = [" **??à¦†à¦®à¦¾à?à§?à¦­à?à¦²à? à¦¯à¦¾à¦?..?’¥**",
         " **??à¦†à¦®à¦?à¦¤à?à¦®à¦¾à¦•à? à¦­à¦¾à¦²à?à¦¬à¦¾à¦¸à¦¿ à¦¨à¦¾...?’¥**",
         " **??à¦à?à¦¾à?à§?à¦¤à?à¦®à¦¾à¦?à¦•à¦°à§?à¦ªà¦¿à¦¯à¦¼à¦? à¦¤à?à¦®à¦¾à¦?à¦•à¦°à§?..?’¥**",
         " **??à¦†à¦®à¦¾à¦° à¦—à?à¦°à?à¦ªà?à¦?à¦¯à?à¦?à¦¦à¦¿à¦?..?’¥**",
         " **??à¦†à¦®à¦?à¦¹à?à¦¦à¦¯à¦¼à? à¦¤à?à¦®à¦¾à¦?à¦¨à¦¾à¦?à¦°à?à¦–à?à¦›à¦¿...?’¥**",
         " **??à¦¤à?à¦®à¦¾à¦?à¦¸à¦¬ à¦¬à¦¨à§à¦§à§?à¦•à?à¦¥à¦¾à¦¯à¦¼...?’¥**",
         " **??à¦•à¦¾à¦?à¦¸à?à¦®à?à¦¤à¦¿à¦¤à? à¦¤à?à¦®à¦¿ à¦¹à¦¾à¦°à¦¿à¦¯à¦¼à§?à¦—à?à¦›à? à¦†à¦®à¦¾à¦° à¦­à¦¾à¦²à?à¦¬à¦¾à¦¸à¦¾...?’¥**",
         " **??à¦¤à?à¦®à¦¾à¦?à¦ªà?à¦¶à¦¾ à¦•à¦¿...?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à?à¦¥à¦¾à¦¯à¦¼ à¦¥à¦¾à¦•à?...?’¥**",
         " **??à¦¶à?à¦?à¦¸à?à¦¾à¦², à¦¬à¦¾à¦¬à?...?’¥**",
         " **??à¦¶à?à¦?à¦°à¦¾à¦¤à?à¦°à¦¿, à¦…à¦¨à§‡à? à¦¦à?à¦°à¦¿ à¦¹à¦¯à¦¼à? à¦—à?à¦›à?...?’¥**",
         " **??à¦†à¦®à¦¾à¦° à¦†à? à¦–à?à¦?à¦–à¦¾à¦°à¦¾à¦?à¦²à¦¾à¦—à?à§?..?’¥**",
         " **??à¦†à¦®à¦¾à¦° à¦¸à¦¾à¦¥à?à¦?à¦•à¦¥à¦?à¦¬à¦²...?’¥**",
         " **??à¦†à? à¦°à¦¾à¦¤à?à¦?à¦–à¦¾à¦¬à¦¾à¦°à?à¦?à¦œà¦¨à§à¦¯ à¦•à¦¿...?’¥**",
         " **??à¦•à¦¿ à¦¹à?à§à?à§?..?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦®à?à¦¸à?à¦?à¦¦à¦¾à¦?à¦¨à¦¾ à¦•à?à¦?..?’¥**",
         " **??à¦†à¦®à¦?à¦¨à¦¿à¦°à?à¦¦à?à¦?..?’¥**",
         " **??à¦à?à¦?à¦—à¦¤à¦•à¦¾à¦?à¦®à?à¦?à¦›à¦¿à¦? à¦¤à¦¾à¦?à¦¨à¦¾...?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦—à¦¤à¦•à¦¾à¦?à¦•à?à¦¥à¦¾à¦¯à¦¼ à¦¬à?à¦¯à¦¸à§à¦¤ à¦›à¦¿à¦²à?...?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à¦¿ à¦¸à¦®à§à¦ªà¦°à?à¦•à? à¦†à?à§?..?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦–à?à¦?à¦¶à¦¾à¦¨à?à¦?à¦¥à¦¾à¦•à? à¦¬à¦¨à§à¦§à§?..?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à¦¿ à¦—à¦¾à¦‡à¦¤à§?à¦œà¦¾à¦¨à?, à¦—à¦¾à¦‡à¦¤à§?..?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à¦¿ à¦†à¦®à¦¾à¦° à¦¸à¦¾à¦¥à? à¦¬à?à¦¡à¦¼à¦¾à¦¤à§?à¦†à¦¸à¦¬à?...?’¥**",
         " **??à¦¸à¦¬à¦¸à¦®à¦¯à¦¼ à¦¹à¦¾à¦¸à¦¿à¦–à?à¦¶à¦¿ à¦¥à?à¦•à? à¦¬à¦¨à§à¦§à§?..?’¥**",
         " **??à¦†à¦®à¦°à¦¾ à¦•à¦¿ à¦¬à¦¨à§à¦§à§?à¦¹à¦¤à§?à¦ªà¦¾à¦°à¦¿...?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à¦¿ à¦¬à¦¿à¦¬à¦¾à¦¹à¦¿à¦?..?’¥**",
         " **??à¦à¦¤ à¦¦à¦¿à¦?à¦•à?à¦¥à¦¾à¦¯à¦¼ à¦¬à?à¦¯à¦¸à§à¦¤ à¦›à¦¿à¦²à?...?’¥**",
         " **??à¦²à¦¿à¦™à?à¦?à¦¬à¦¾à¦¯à¦¼à§‹à¦¤à§?à¦†à?à§? à¦à?à¦?à¦¯à?à¦?à¦¦à¦¿à¦¤à?...?’¥**",
         " **??à¦®à?à¦?à¦•à¦°à¦²à¦¾à¦?..?’¥**",
         " **??à¦†à¦ªà¦¨à¦¿ à¦•à¦¿ à¦à? à¦—à?à¦°à?à¦ªà?à¦?à¦®à¦¾à¦²à¦¿à¦•à?à§?à¦šà?à¦¨à?à¦?..?’¥**",
         " **??à¦¤à?à¦®à¦¾à¦?à¦•à¦¿ à¦•à?à¦¨à? à¦®à¦¨à§?à¦ªà¦¡à¦¼à? à¦†à¦®à¦¾à¦¯à¦?..?’¥**",
         " **??à¦šà¦²à§?à¦ªà¦¾à¦°à?à¦Ÿà¦¿ à¦•à¦°à¦?..?’¥**",
         " **??à¦†à? à¦•à?à¦®à¦¨ à¦à¦²à§?..?’¥**",
         " **??à¦•à?à¦®à¦¨ à¦•à¦¾à¦Ÿà¦²à§?à¦¤à?à¦®à¦¾à¦?à¦¦à¦¿à¦?..?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à¦¿ à¦¦à?à¦–à?à¦›à?...?’¥**",
         " **??à¦†à¦ªà¦¨à¦¿ à¦•à¦¿ à¦à?à¦¾à¦¨à¦•à¦¾à¦?à¦ªà?à¦°à¦¶à¦¾à¦¸à¦?..?’¥**",
         " **??à¦†à¦®à¦°à¦¾ à¦¬à¦¨à§à¦§à§?à¦¹à¦¤à§?à¦ªà¦¾à¦°à¦¿...?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à¦¿ à¦¸à¦®à§à¦ªà¦°à?à¦•à? à¦†à?à§?..?’¥**",
         " **??à¦†à¦° à¦¬à¦¨à§à¦¦à§€ à¦•à?à¦®à¦¨ à¦†à?à§?..?’¥**",
         " **??à¦¤à?à¦®à¦¾à¦•à? à¦—à¦¤à¦•à¦¾à¦?à¦¦à?à¦–à?à¦›à¦¿...?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à?à¦¥à¦¾ à¦¥à?à¦•à?...?’¥**",
         " **??à¦†à¦ªà¦¨à¦¿ à¦•à¦¿ à¦…à¦¨à¦²à¦¾à¦‡à¦¨à§?à¦†à?à§‡à¦¨...?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à¦¿ à¦†à¦®à¦¾à¦° à¦¬à¦¨à§à¦§à§?...?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à¦¿ à¦–à?à¦¤à? à¦ªà?à¦¨à?à¦?à¦•à¦°...?’¥**",
         " **??à¦†à¦®à¦¾à?à§?à¦†à¦ªà¦¨à¦¾à¦?à¦—à?à¦°à?à¦ªà? à¦…à?à¦¯à¦¾à¦?à¦•à¦°à§à¦¨, à¦†à¦®à¦?à¦—à¦¾à¦?à¦¬à¦¾à¦œà¦¿à¦¯à¦¼à§?à¦¸à¦¬à¦¾à?à¦•à? à¦Ÿà?à¦¯à¦¾à¦?à¦•à¦°à¦?...?’¥**",
         " **??à¦†à? à¦†à¦®à¦?à¦¦à?à¦ƒà?à¦¿à¦¤...?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à¦¿ à¦¸à¦¤à§à¦¯ à¦–à?à¦²à¦¬à§?à¦à¦¬à¦?à¦¸à¦¾à¦¹à¦¸ à¦•à¦°à¦¬à?...?’¥**",
         " **??à¦¤à?à¦®à¦¾à¦?à¦®à¦¤ à¦¬à¦¨à§à¦§à§?à¦¥à¦¾à¦•à¦²à§?à¦šà¦¿à¦¨à?à¦¤à¦¾à¦?à¦•à¦¿ à¦†à?à§?..?’¥**",
         " **??à¦•à¦¿ à¦¹à¦¯à¦¼à?à¦›à? à¦¤à?à¦®à¦¾à¦?..?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à¦¿ à¦šà?à¦²à?à¦?à¦–à?à¦¤à? à¦šà¦¾à¦?...?’¥**",
         " **??à¦¹à?à¦¯à¦¾à¦²à? à¦¬à¦¾à¦¬à?...?’¥**",
         " **??à¦†à¦®à¦¾à¦° à¦¸à¦¾à¦¥à? à¦šà?à¦¯à¦¾à¦?à¦•à¦°à§?..?’¥**",
         " **??à¦¤à?à¦®à¦¿ à¦•à¦¿ à¦¬à¦²à§?..?’¥**"
        ]


@app.on_message(filters.command(["entag", "englishtag" ], prefixes=["/", "@", "#"]))
async def mentionall(client, message):
    chat_id = message.chat.id
    if message.chat.type == ChatType.PRIVATE:
        return await message.reply("à¹?á´›ÊœÉªs á´„á?á´á?á´€É´á´?á´É´ÊŸÊ??á´Ê€ É¢?á´á?á´˜s.")

    is_admin = False
    try:
        participant = await client.get_chat_member(chat_id, message.from_user.id)
    except UserNotParticipant:
        is_admin = False
    else:
        if participant.status in (
            ChatMemberStatus.ADMINISTRATOR,
            ChatMemberStatus.OWNER
        ):
            is_admin = True
    if not is_admin:
        return await message.reply("à¹??á´á? á´€?á´?É´á´á? á´€á´…á?ÉªÉ´ ?á´€??, á´É´ÊŸÊ?á´€á´…á?ÉªÉ´s á´„á?É´ á´›á?É¢ á´á?á´Ê™á??s. ")

    if message.reply_to_message and message.text:
        return await message.reply("/entag É¢á´á?á´?á´á??É´ÉªÉ´É¢ á´›Êá?á´??Éªá´‹á? á´›ÊœÉªs / ?á´‡á??? á´€É´? á´á?ssá´€É¢á´?É´á´‡xá´?á´›Éªá?á´??á´á? á´›á?É¢É¢ÉªÉ´É¢...")
    elif message.text:
        mode = "text_on_cmd"
        msg = message.text
    elif message.reply_to_message:
        mode = "text_on_reply"
        msg = message.reply_to_message
        if not msg:
            return await message.reply("/entag É¢á´á?á´?á´á??É´ÉªÉ´É¢ á´›Êá?á´??Éªá´‹á? á´›ÊœÉªs / ?á´‡á??? á´€É´? á´á?ssá´€É¢á´?É´á´‡xá´?á´›Éªá?á´??á´á? á´›á?É¢É¢ÉªÉ´É¢...")
    else:
        return await message.reply("/entag É¢á´á?á´?á´á??É´ÉªÉ´É¢ á´›Êá?á´??Éªá´‹á? á´›ÊœÉªs / ?á´‡á??? á´€É´? á´á?ssá´€É¢á´?É´á´‡xá´?á´›Éªá?á´??á´á? á´›á?É¢É¢ÉªÉ´É¢...")
    if chat_id in spam_chats:
        return await message.reply("à¹?á´˜ÊŸá?á´€sá´?á´€á´??Éª?sá´?sá´›á?á´??á´œÉ´É´ÉªÉ´É?á´á?É´á´›Éªá?É´ á´˜Ê€á´á?á´‡ss...")
    spam_chats.append(chat_id)
    usrnum = 0
    usrtxt = ""
    async for usr in client.get_chat_members(chat_id):
        if not chat_id in spam_chats:
            break
        if usr.user.is_bot:
            continue
        usrnum += 1
        usrtxt += "<a href='tg://user?id={}'>{}</a>".format(usr.user.id, usr.user.first_name)

        if usrnum == 1:
            if mode == "text_on_cmd":
                txt = f"{usrtxt} {random.choice(TAGMES)}"
                await client.send_message(chat_id, txt)
            elif mode == "text_on_reply":
                await msg.reply(f"[{random.choice(EMOJI)}](tg://user?id={usr.user.id})")
            await asyncio.sleep(4)
            usrnum = 0
            usrtxt = ""
    try:
        spam_chats.remove(chat_id)
    except:
        pass


@app.on_message(filters.command(["bntag"], prefixes=["/", "@", "#"]))
async def mention_allvc(client, message):
    chat_id = message.chat.id
    if message.chat.type == ChatType.PRIVATE:
        return await message.reply("à¹?á´›ÊœÉªs á´„á?á´á?á´€É´á´?á´É´ÊŸÊ??á´Ê€ É¢?á´á?á´˜s.")

    is_admin = False
    try:
        participant = await client.get_chat_member(chat_id, message.from_user.id)
    except UserNotParticipant:
        is_admin = False
    else:
        if participant.status in (
            ChatMemberStatus.ADMINISTRATOR,
            ChatMemberStatus.OWNER
        ):
            is_admin = True
    if not is_admin:
        return await message.reply("à¹??á´á? á´€?á´?É´á´á? á´€á´…á?ÉªÉ´ ?á´€??, á´É´ÊŸÊ?á´€á´…á?ÉªÉ´s á´„á?É´ á´›á?É¢ á´á?á´Ê™á??s. ")
    if chat_id in spam_chats:
        return await message.reply("à¹?á´˜ÊŸá?á´€sá´?á´€á´??Éª?sá´?sá´›á?á´??á´œÉ´É´ÉªÉ´É?á´á?É´á´›Éªá?É´ á´˜Ê€á´á?á´‡ss...")
    spam_chats.append(chat_id)
    usrnum = 0
    usrtxt = ""
    async for usr in client.get_chat_members(chat_id):
        if not chat_id in spam_chats:
            break
        if usr.user.is_bot:
            continue
        usrnum += 1
        usrtxt += "<a href='tg://user?id={}'>{}</a>".format(usr.user.id, usr.user.first_name)

        if usrnum == 1:
            txt = f"{usrtxt} {random.choice(VC_TAG)}"
            await client.send_message(chat_id, txt)
            await asyncio.sleep(4)
            usrnum = 0
            usrtxt = ""
    try:
        spam_chats.remove(chat_id)
    except:
        pass



@app.on_message(filters.command(["cancel", "enstop", "bnstop"]))
async def cancel_spam(client, message):
    if not message.chat.id in spam_chats:
        return await message.reply("à¹?á´„á???á´‡É´á??? Éª'á´?É´á´á? á´›á?É¢É¢ÉªÉ´É¢ ?á´€??.")
    is_admin = False
    try:
        participant = await client.get_chat_member(message.chat.id, message.from_user.id)
    except UserNotParticipant:
        is_admin = False
    else:
        if participant.status in (
            ChatMemberStatus.ADMINISTRATOR,
            ChatMemberStatus.OWNER
        ):
            is_admin = True
    if not is_admin:
        return await message.reply("à¹??á´á? á´€?á´?É´á´á? á´€á´…á?ÉªÉ´ ?á´€??, á´É´ÊŸÊ?á´€á´…á?ÉªÉ´s á´„á?É´ á´›á?É¢ á´á?á´Ê™á??s.")
    else:
        try:
            spam_chats.remove(message.chat.id)
        except:
            pass
        return await message.reply("à¹?á´á?É´á´›Éªá?É´ á´˜Ê€á´á?á´‡ss sá´›á?á´˜á?á´‡á? à¹?)
          
